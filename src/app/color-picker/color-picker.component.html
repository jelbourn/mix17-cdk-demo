

<button type="button" (click)="isOpen = !isOpen"
    cdkOverlayOrigin
    #trigger="cdkOverlayOrigin"
    [style.background]="selectedColor || 'none'">
  Color
</button>

<ng-template
    cdkConnectedOverlay
    [cdkConnectedOverlayOrigin]="trigger"
    [cdkConnectedOverlayOpen]="isOpen">

  <div class="color-picker"
        role="dialog" aria-label="Color picker">
      <div role="listbox" tabindex="0" aria-label="Select a color"
        cdkTrapFocus cdkTrapFocusAutoCapture
        (keydown)="keydownHandler($event)">
        <div *ngFor="let color of colors; index as i"
            role="option"
            [style.background]="color.hex"
            [attr.aria-label]="color.name"
            [attr.aria-selected]="color.hex == selectedColor"
            (click)="selectedColor = color.hex; isOpen = false"></div>
      </div>
    </div>


</ng-template>
